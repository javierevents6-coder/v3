import{u as p,a as u,r as a,f,j as s,E as j}from"./index-CpkSNde8.js";import{s as b}from"./sessionsData-BZRD4jWn.js";import{f as N}from"./format-Du_wWAPl.js";import{P as y}from"./PackageEditorModal-svZSTvAg.js";import{C as P}from"./chevron-right-C4hkEyi4.js";import"./plus-DJX8Dt9Z.js";const v=b,w=[{id:1,src:"https://images.pexels.com/photos/2613260/pexels-photo-2613260.jpeg?auto=compress&cs=tinysrgb&w=1600",alt:"Retrato artÃ­stico feminino"},{id:2,src:"https://images.pexels.com/photos/1239291/pexels-photo-1239291.jpeg?auto=compress&cs=tinysrgb&w=1600",alt:"Retrato em preto e branco"},{id:3,src:"https://images.pexels.com/photos/2613256/pexels-photo-2613256.jpeg?auto=compress&cs=tinysrgb&w=1600",alt:"Retrato ao ar livre"},{id:4,src:"https://images.pexels.com/photos/2773977/pexels-photo-2773977.jpeg?auto=compress&cs=tinysrgb&w=1600",alt:"Retrato familiar"},{id:5,src:"https://images.pexels.com/photos/1484794/pexels-photo-1484794.jpeg?auto=compress&cs=tinysrgb&w=1600",alt:"Retrato em estÃºdio"},{id:6,src:"https://images.pexels.com/photos/2698935/pexels-photo-2698935.jpeg?auto=compress&cs=tinysrgb&w=1600",alt:"Retrato masculino"}],F=()=>{const{addToCart:l}=p(),{user:m}=u(),[r,i]=a.useState(null),[C,c]=a.useState(!1),[x,n]=a.useState(!1),[h,g]=a.useState(null);a.useEffect(()=>{(async()=>{try{c(!0);const e=await f("portrait");i(e)}catch{console.warn("PortraitPage: falling back to static packages"),i(null)}finally{c(!1)}})()},[]);const d=e=>{try{console.log("ðŸ“± PortraitPage: Button clicked",e),console.log("ðŸ“± PortraitPage: addToCart function:",l);const t={id:e.id,type:"portrait",name:e.title,price:e.price,duration:e.duration,image:e.image};console.log("ðŸ“± PortraitPage: Cart item to add",t),l(t),console.log("ðŸ“± PortraitPage: addToCart called successfully"),setTimeout(()=>console.log("ðŸ“± PortraitPage: Checking cart after add"),100)}catch(t){console.error("ðŸ“± PortraitPage: Error adding to cart:",t),alert("Error al agregar al carrito: "+t.message)}};return s.jsxs(s.Fragment,{children:[s.jsx("section",{className:"pt-32 pb-16 bg-accent/30",children:s.jsx("div",{className:"container-custom",children:s.jsxs("div",{className:"max-w-2xl",children:[s.jsx("h1",{className:"section-title text-4xl md:text-5xl mb-6",children:"Fotografia de Retratos"}),s.jsx("p",{className:"text-gray-700 mb-6",children:"Capturamos a essÃªncia Ãºnica de cada pessoa em nossos ensaios fotogrÃ¡ficos. Seja para retratos individuais, familiares ou profissionais, criamos imagens que transmitem personalidade e emoÃ§Ã£o."})]})})}),s.jsx("section",{className:"py-16",children:s.jsxs("div",{className:"container-custom",children:[s.jsx("h2",{className:"section-title mb-12",children:"Nossos Pacotes"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:(r&&r.length>0?r.map(e=>({id:e.id,title:e.title,price:N(Number(e.price)),duration:e.duration,description:e.description,features:e.features||[],image:e.image_url,__db:e})):v).filter(e=>e!=null&&e.__db?e.__db.active??!0:!0).map(e=>s.jsxs("div",{className:"card flex flex-col h-full relative",children:[m&&e.__db&&s.jsx("button",{className:"absolute top-2 right-2 p-2 rounded-full bg-white shadow hover:bg-gray-50",title:"Editar",onClick:()=>{g(e.__db),n(!0)},children:s.jsx(j,{size:18,className:"text-gray-700"})}),s.jsx("div",{className:"h-56 overflow-hidden mb-4",children:s.jsx("img",{loading:"lazy",src:e.image,alt:e.title,className:"w-full h-full object-cover"})}),s.jsx("h3",{className:"text-xl font-playfair font-medium mb-2",children:e.title}),s.jsx("p",{className:"text-gray-600 mb-4",children:e.description}),s.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[s.jsx("span",{className:"text-2xl font-playfair text-primary",children:e.price}),s.jsxs("span",{className:"text-gray-500 text-sm",children:["/",e.duration]})]}),s.jsx("ul",{className:"mb-6 flex-grow",children:e.features.map((t,o)=>s.jsxs("li",{className:"flex items-start mb-2",children:[s.jsx(P,{size:16,className:"text-secondary mt-1 mr-2 flex-shrink-0"}),s.jsx("span",{className:"text-sm text-gray-700",children:t})]},o))}),s.jsx("button",{onClick:()=>d(e),className:"btn-primary mt-auto touch-manipulation mobile-cart-btn",onTouchStart:t=>{console.log("ðŸ“± PortraitPage: Touch start event",t)},onTouchEnd:t=>{console.log("ðŸ“± PortraitPage: Touch end event",t),t.preventDefault(),d(e)},style:{minHeight:"48px",minWidth:"48px",WebkitTapHighlightColor:"rgba(212, 175, 55, 0.3)"},children:"Adicionar ao carrinho"})]},e.id))})]})}),s.jsx(y,{open:x,onClose:()=>n(!1),pkg:h,onSaved:e=>{i(t=>t&&t.map(o=>o.id===e.id?e:o))}}),s.jsx("section",{className:"py-16 bg-accent/10",children:s.jsxs("div",{className:"container-custom",children:[s.jsx("h2",{className:"section-title mb-12",children:"Galeria de Fotos"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:w.map(e=>s.jsxs("div",{className:"gallery-item",children:[s.jsx("img",{loading:"lazy",src:e.src,alt:e.alt,className:"w-full h-80 object-cover"}),s.jsx("div",{className:"gallery-overlay",children:s.jsx("span",{className:"text-white font-playfair text-xl",children:e.alt})})]},e.id))}),s.jsx("div",{className:"text-center mt-12"})]})})]})};export{F as default};
