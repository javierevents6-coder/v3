import{u as C,a as P,r,f as T,j as a,E as x}from"./index-CpkSNde8.js";import{e as h,a as u}from"./eventsData-BPEvb_2b.js";import{f as g}from"./format-Du_wWAPl.js";import{P as W}from"./PackageEditorModal-svZSTvAg.js";import{C as f}from"./chevron-right-C4hkEyi4.js";import"./plus-DJX8Dt9Z.js";const F=()=>{const{addToCart:p}=C(),{user:d}=P(),[c,j]=r.useState("all"),[t,n]=r.useState(null),[v,o]=r.useState(!1),[b,m]=r.useState(null),N=[{id:"all",name:"Todos"},{id:"wedding",name:"Casamentos"},{id:"civil",name:"Civil"},{id:"party",name:"Festas"},{id:"anniversary",name:"AniversÃ¡rios"}],y=c==="all"?h:h.filter(e=>e.category===c);r.useEffect(()=>{(async()=>{try{const e=await T("events");n(e)}catch{console.warn("EventsPage: falling back to static packages"),n(null)}})()},[]);const w=t&&t.length>0?t.filter(e=>e.active!==!1&&((e.category||"").startsWith("prewedding")||e.id.startsWith("prewedding"))).map(e=>({id:e.id,title:e.title,price:g(Number(e.price)),duration:e.duration,description:e.description,features:e.features||[],image:e.image_url})):u.filter(e=>e.id.startsWith("prewedding")),E=t&&t.length>0?t.filter(e=>e.active!==!1&&((e.category||"").startsWith("wedding")||e.id.startsWith("wedding"))).map(e=>({id:e.id,title:e.title,price:g(Number(e.price)),duration:e.duration,description:e.description,features:e.features||[],image:e.image_url})):u.filter(e=>e.id.startsWith("wedding")),l=e=>{try{console.log("ðŸ“± EventsPage: Button clicked",e);const s={id:e.id,type:"events",name:e.title,price:e.price,duration:e.duration,image:e.image};p(s),setTimeout(()=>console.log("ðŸ“± EventsPage: Checking cart after add"),100)}catch(s){console.error("ðŸ“± EventsPage: Error adding to cart:",s),alert("Error al agregar al carrito: "+s.message)}};return a.jsxs(a.Fragment,{children:[a.jsx("section",{className:"pt-32 pb-16 bg-primary text-white",children:a.jsx("div",{className:"container-custom",children:a.jsxs("div",{className:"max-w-2xl",children:[a.jsx("h1",{className:"section-title text-4xl md:text-5xl mb-6 text-white",children:"Casamentos e Eventos"}),a.jsx("p",{className:"text-white/80 mb-6",children:"Eternizamos cada momento especial do seu casamento ou evento. Nossa equipe captura com sensibilidade e excelÃªncia tÃ©cnica todos os detalhes, emoÃ§Ãµes e momentos marcantes, transformando seu dia especial em memÃ³rias inesquecÃ­veis."})]})})}),a.jsx("section",{className:"py-16",children:a.jsxs("div",{className:"container-custom",children:[a.jsx("h2",{className:"section-title mb-12",children:"Ensaios PrÃ©-Wedding"}),a.jsx("p",{className:"text-gray-700 mb-8 text-center max-w-3xl mx-auto",children:"Capture a magia do seu amor antes do grande dia com nossos ensaios prÃ©-wedding. Momentos Ãºnicos e romÃ¢nticos que eternizam a expectativa e a alegria do casal."}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:w.map(e=>a.jsxs("div",{className:"bg-accent/20 shadow-sm p-6 flex flex-col h-full relative",children:[d&&t&&a.jsx("button",{className:"absolute top-2 right-2 p-2 rounded-full bg-white shadow hover:bg-gray-50",title:"Editar",onClick:()=>{const s=t.find(i=>i.id===e.id);s&&(m(s),o(!0))},children:a.jsx(x,{size:18,className:"text-gray-700"})}),a.jsx("div",{className:"h-56 overflow-hidden mb-4",children:a.jsx("img",{loading:"lazy",src:e.image,alt:e.title,className:"w-full h-full object-cover"})}),a.jsx("h3",{className:"text-xl font-playfair font-medium mb-2",children:e.title}),a.jsx("p",{className:"text-gray-600 mb-4",children:e.description}),a.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[a.jsx("span",{className:"text-2xl font-playfair text-primary",children:e.price}),a.jsxs("span",{className:"text-gray-500 text-sm",children:["/",e.duration]})]}),a.jsx("ul",{className:"mb-6 flex-grow",children:e.features.map((s,i)=>a.jsxs("li",{className:"flex items-start mb-2",children:[a.jsx(f,{size:16,className:"text-secondary mt-1 mr-2 flex-shrink-0"}),a.jsx("span",{className:"text-sm text-gray-700",children:s})]},i))}),a.jsx("button",{onClick:()=>l(e),className:"btn-primary mt-auto touch-manipulation mobile-cart-btn",onTouchStart:s=>{console.log("ðŸ“± EventsPage: Touch start event",s)},onTouchEnd:s=>{console.log("ðŸ“± EventsPage: Touch end event",s),s.preventDefault(),l(e)},style:{minHeight:"48px",minWidth:"48px",WebkitTapHighlightColor:"rgba(212, 175, 55, 0.3)"},children:"Adicionar ao carrinho"})]},e.id))})]})}),a.jsx("section",{className:"py-16 bg-accent/10",children:a.jsxs("div",{className:"container-custom",children:[a.jsx("h2",{className:"section-title mb-12",children:"Pacotes para Casamentos"}),a.jsx("p",{className:"text-gray-700 mb-8 text-center max-w-3xl mx-auto",children:"Cobertura completa para o seu dia especial. Desde a preparaÃ§Ã£o atÃ© a festa, capturamos cada emoÃ§Ã£o e momento Ãºnico do seu casamento."}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:E.map(e=>a.jsxs("div",{className:"card flex flex-col h-full relative",children:[d&&t&&a.jsx("button",{className:"absolute top-2 right-2 p-2 rounded-full bg-white shadow hover:bg-gray-50",title:"Editar",onClick:()=>{const s=t.find(i=>i.id===e.id);s&&(m(s),o(!0))},children:a.jsx(x,{size:18,className:"text-gray-700"})}),a.jsx("div",{className:"h-56 overflow-hidden mb-4",children:a.jsx("img",{loading:"lazy",src:e.image,alt:e.title,className:"w-full h-full object-cover"})}),a.jsx("h3",{className:"text-xl font-playfair font-medium mb-2",children:e.title}),a.jsx("p",{className:"text-gray-600 mb-4",children:e.description}),a.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[a.jsx("span",{className:"text-2xl font-playfair text-primary",children:e.price}),a.jsxs("span",{className:"text-gray-500 text-sm",children:["/",e.duration]})]}),a.jsx("ul",{className:"mb-6 flex-grow",children:e.features.map((s,i)=>a.jsxs("li",{className:"flex items-start mb-2",children:[a.jsx(f,{size:16,className:"text-secondary mt-1 mr-2 flex-shrink-0"}),a.jsx("span",{className:"text-sm text-gray-700",children:s})]},i))}),a.jsx("button",{onClick:()=>l(e),className:"btn-primary mt-auto touch-manipulation mobile-cart-btn",onTouchStart:s=>{console.log("ðŸ“± EventsPage: Touch start event",s)},onTouchEnd:s=>{console.log("ðŸ“± EventsPage: Touch end event",s),s.preventDefault(),l(e)},style:{minHeight:"48px",minWidth:"48px",WebkitTapHighlightColor:"rgba(212, 175, 55, 0.3)"},children:"Adicionar ao carrinho"})]},e.id))})]})}),a.jsx(W,{open:v,onClose:()=>o(!1),pkg:b,onSaved:e=>{n(s=>s&&s.map(i=>i.id===e.id?e:i))}}),a.jsx("section",{className:"py-16",children:a.jsxs("div",{className:"container-custom",children:[a.jsx("h2",{className:"section-title mb-8",children:"Galeria de Eventos"}),a.jsx("div",{className:"flex flex-wrap justify-center space-x-2 mb-12",children:N.map(e=>a.jsx("button",{className:`px-4 py-2 mb-2 ${c===e.id?"bg-primary text-white":"bg-white text-primary hover:bg-gray-100"}`,onClick:()=>j(e.id),children:e.name},e.id))}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:y.map(e=>a.jsxs("div",{className:"gallery-item",children:[a.jsx("img",{src:e.src,alt:e.alt,className:"w-full h-80 object-cover"}),a.jsx("div",{className:"gallery-overlay",children:a.jsx("span",{className:"text-white font-playfair text-xl",children:e.alt})})]},e.id))})]})})]})};export{F as default};
